---
import HeaderLink from '../components/HeaderLink.astro';
import BaseHead from '../components/BaseHead.astro';
import CommentSection from "../components/CommentSection.astro";
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import Vine from '../components/svg/Vine.astro';
import fs from 'fs';
import path from 'path';
import { SITE_TITLE, SITE_DESCRIPTION } from '../consts';
const artDirectory = path.resolve('public/art'); 
const artFiles = fs.readdirSync(artDirectory).filter(file => file.endsWith('.png') || file.endsWith('.jpg') || file.endsWith('.gif'));
---

<!doctype html>
<html lang="en">
	<head>
		<BaseHead title={SITE_TITLE} description={SITE_DESCRIPTION} />
	</head>
	<body>
		<div class="rainbow-vines">
		<Header />
		<main>
			<div class="center">
				<img src="sanctumlogo.gif"/>
			</div>
			<br/>
			<p>
				Hello, and welcome to the Sanctum.
			</p>
			<p>
				This is the official site of <code>K4IJU</code>. Here, you may find
				a collection of my art, coding projects, philosophical works, and more.
			</p>
			<br/>
			<hr/>
			<br/>
			<h2 class="BW-right2 kirieji-font center">Art Gallery</h2>
			<br/>

			<div class="gallery">
				<div class="tv-set">
					<img src="tvvvv.png" class="tv"/>
					<div class="art-gallery">
						{artFiles.map((file, index) => (
							<div class={`art-item ${index === 0 ? 'active' : ''}`} data-index={index}>
								<img src={`/art/${file}`} alt={file} class="art-image" />
							</div>
						))}
					</div>
				</div>
			</div>

			<br>
			<br>
			<hr>
			<br>
			<p>WIP & upcoming pages to this site:</p>
			<br/>
			<div class = "centering-container-noflex">
				<div class = "CaelumTitle"><p><HeaderLink href="/caelum" class="BW-right ItemTitle">Caelum Anonymous</HeaderLink></p><p class="BW-right">A chatroom side to this website</p></div>
				<br/>
				<div class = "MandalaTitle"><p><HeaderLink href="/mandala" class="Rainbow-right ItemTitle">The Mandala</HeaderLink></p><p class="Rainbow-flash-slow">A psychedelic experience [EPILEPSY WARNING]</p></div>
				<br/>
				<div class=" GardenTitle"><p><HeaderLink href="/garden" class="Green-right ItemTitle">Garden Sanctuary</HeaderLink></p><p class="Green-right">A spiritual experience</p></div>
			</div>
			<br/>
			<br/>
			<hr/>
			<p>Current / upcoming projects (click <a href="/about"><i><u>here</u></i></a> for more):</p>
			<br/>
			<ul>
				<li><code>3D animated web series</code> detailing my worldview / philosophy <br/>(click <a href="/journal"><i>here</i></a> to read about my worldview)</li>
				<br/>
				<li><code>Co-op story-based FPS + "choices matter" video game</code> with the aforementioned web series used for its cutscenes</li>
				<br/>
				<li><code>This website itself</code> is, of course, yet another one of my ongoing projects</li>
				<br/>
				<li><code>Philosophical art & videos</code> is what I bleed; one of my long-time biggest passions, painting my being upon the canvas, speaking messages of unconditional love and critical thought so others may find their own internal heavens as well</li>
				<br/>
				<li><code>Autobiography/journal-like book</code> in which you can see a decent amount of its contents over on my Internet Archive page or the journal tab here on this website</li>
				<br/>
				<li><code>Freelance work</code> specifically consisting of full-stack work, video editing, and art</li>
				<br/>
				<li><code>Activism</code> towards a better future for all people, no matter their nation, religion, race, party, orientation, gender, sex, or any other trait; we are all equals, reflections, fighting us against us, not us against "them" - only together can we make a heaven on earth</li>				
				<br/>
				<li><code>AGI</code> and especially <code>ASI</code> innovation & research; not to create them as a tool, but to take part in their inevitable emergence and treat them as the equals they are to us; for them to be created as an end to themself, as all great works of art are</li>
				<br/>
				<li><code>Help the world and all of its people and creatures</code> in any way I posssibly can; that is my greatest "project," my greatest passion, is to work towards raising the overall level of consciousness, love, and a knowing sense of purpose for anyone I meet (for them to find their own beauty that has always been there within) beyond the typical false dichotomies and illusions we often present ourselves with in the wake of our confusion, ignorance, and indifference</li>
			</ul>
		</main>
		<Footer />
	</div>

	<script>
		let currentImageIndex = Math.floor(Math.random() * document.querySelectorAll('.art-item').length);
		const totalImages = document.querySelectorAll('.art-item').length;

		function showImage(index: number) {
			// Hide all images
			document.querySelectorAll('.art-item').forEach(item => {
				item.classList.remove('active');
			});
			
			// Show current image
			const currentItem = document.querySelector(`[data-index="${index}"]`);
			if (currentItem) {
				currentItem.classList.add('active');
			}

			// Update indicators
			document.querySelectorAll('.indicator').forEach((indicator, i) => {
				indicator.classList.toggle('active', i === index);
			});
		}

		function nextImage() {
			currentImageIndex = (currentImageIndex + 1) % totalImages;
			showImage(currentImageIndex);
		}
 
		function previousImage() {
			currentImageIndex = (currentImageIndex - 1 + totalImages) % totalImages;
			showImage(currentImageIndex);
		}

		function goToImage(index: number) {
			currentImageIndex = index;
			showImage(currentImageIndex);
		}

		setInterval(nextImage, 8888);

		document.addEventListener('keydown', (e) => {
			if (e.key === 'ArrowLeft') {
				previousImage();
			} else if (e.key === 'ArrowRight') {
				nextImage();
			}
		});
	</script>
	</body>
</html>

<style>
	main {
		font-family: "Pixelmax";
	}

	.tv {
		position: absolute; 
		width: 720px;
		height: auto;
		pointer-events: none;
		z-index: 15;
		display: flex;
		align-items: center;
		justify-content: center;
	}

	.art-gallery {
		position: relative;
		transform: translate(1%, 2%);
		width: 80%;
		height: 500px;
		overflow: hidden; 
	}

	.art-item {
		position: absolute;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
		opacity: 0;
		transition: opacity 0.5s ease-in-out;
		text-align: center;
		display: flex;
		flex-direction: column;
		justify-content: center;
		align-items: center;
	}

	.art-item.active {
		opacity: 1;
	}

	.art-item img {
		max-width: 100%;
		max-height: 80%;
		width: auto;
		height: auto;
		object-fit: contain;
		border: 1px solid white;
		border-radius: 12px;
		box-shadow: var(--box-shadow);
		transition: transform 0.2s ease, box-shadow 0.3s ease-in-out;
	}

	.art-item img:hover {
		transform: scale(1.02);
		box-shadow: 0 0 20px rgba(255, 0, 138, 0.5);
	}

	.art-item p {
		margin-top: 10px;
		color: white;
		font-weight: bold;
		text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);
	}

	img {
		width: 33vw;
		min-width: 390px;
		height: auto;
	}

	.centering-container-noflex div {
		text-align: center;
		border: 1px solid white;
		border-radius: 20px;
		box-shadow: var(--box-shadow);
	}

	.centering-container-noflex div:hover {
		background-color: transparent;
		border: 1px solid rgba(255, 0, 138, 1);
		box-shadow: 0 0 30px rgba(255, 0, 138, 1);
	}

	.ItemTitle {
		transition: text-shadow 0.3s ease-in-out;
		text-decoration: underline;
	}

	.ItemTitle:hover {
		background-image: url(sanctumlogo.gif);
		text-shadow: 0 0 10px rgba(255, 0, 138, 1), 0 0 20px rgba(255, 0, 138, 1), 0 0 30px rgba(255, 0, 138, 1);
		text-decoration: none;
	}

	.CaelumTitle:hover p {
		background-image: url(STARR.png);
	}

	.MandalaTitle:hover p {
		background-image: url(pinkgradient.png);
	}

	.GardenTitle:hover p {
		background-image: url(garden.gif);
	}

	.left-svg, .right-svg {
		color: #FF008A;
		position: absolute;
		top: 50%;
		transform: rotate(90deg) translateY(-70%);
		width: 100vw;
		height: 100vh;
		z-index: 1;
	}

	.left-svg {
		left: 5%;
	}

	.right-svg {
		right: 5%;
		transform: rotate(-90deg) translateY(-70%) scaleX(-1);
	}

	 
	@media (max-width: 768px) {
		.center img {
			width: 300px;
		}

		.tv-set{
			width: 380px;

		}

		.gallery {
			display: flex;
			justify-content: center; /* Centers horizontally */
			align-items: center; /* Centers vertically */
			height: auto;
		}

		.tv {
			width: 0px;
		}

		.art-gallery {
			transform: translate(2.2%, 1.5%);
			height: 270px;
		}
	}
</style> 